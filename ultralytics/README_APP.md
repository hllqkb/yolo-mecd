# 🍊 柑橘智能检测系统

一个基于YOLO11的柑橘检测Web应用，提供直观的用户界面和详细的检测分析。

## ✨ 功能特性

### 🎯 核心功能
- **智能检测**: 基于YOLO11深度学习模型的高精度柑橘检测
- **实时分析**: 显示检测时间、置信度等性能指标
- **可视化结果**: 直观的检测结果展示和统计图表
- **模型管理**: 支持默认模型和自定义模型上传

### 📊 详细信息
- **模型信息**: 显示模型类型、参数量、大小等详细信息
- **检测统计**: 提供检测数量、平均置信度、最高置信度等统计
- **类别分布**: 饼图和柱状图展示检测结果分布
- **详细结果**: 表格形式显示每个检测目标的详细信息

### 🎨 用户体验
- **美观界面**: 现代化的UI设计，支持响应式布局
- **参数调节**: 可调节置信度阈值、IoU阈值等检测参数
- **多格式支持**: 支持JPG、PNG、BMP等多种图像格式
- **实时反馈**: 加载状态、错误提示等用户友好的反馈

## 🚀 快速开始

### 1. 环境准备

确保你的系统已安装Python 3.8+：

```bash
python --version
```

### 2. 安装依赖

```bash
# 安装所需依赖包
pip install -r requirements_app.txt
```

### 3. 启动应用

#### 方法一：使用启动脚本（推荐）
```bash
python run_app.py
```

#### 方法二：直接使用Streamlit
```bash
streamlit run citrus_detection_app.py
```

### 4. 访问应用

应用启动后，在浏览器中访问：
```
http://localhost:8501
```

## 📖 使用指南

### 🔧 模型配置

1. **使用默认模型**
   - 系统会自动加载训练好的最佳模型
   - 路径：`/home/hllqk/projects/yolo-mecd/ultralytics/runs/detect/train13/weights/best.pt`

2. **上传自定义模型**
   - 在侧边栏选择"上传自定义模型"
   - 上传你的.pt模型文件
   - 系统会自动加载并显示模型信息

### ⚙️ 检测参数

- **置信度阈值**: 控制检测结果的最低置信度要求
- **IoU阈值**: 控制重叠检测框的过滤程度
- **显示选项**: 控制结果图像中显示的信息

### 🖼️ 图像检测

1. 上传要检测的图像文件
2. 调整检测参数（可选）
3. 点击"开始检测"按钮
4. 查看检测结果和统计信息

## 📁 文件结构

```
yolo-mecd/ultralytics/
├── citrus_detection_app.py    # 主应用文件
├── run_app.py                 # 启动脚本
├── requirements_app.txt       # 依赖包列表
├── README_APP.md             # 使用说明
└── runs/detect/train13/weights/best.pt  # 默认模型文件
```

## 🛠️ 技术栈

- **前端框架**: Streamlit
- **深度学习**: YOLO11 (Ultralytics)
- **图像处理**: OpenCV, PIL
- **数据可视化**: Plotly, Pandas
- **后端**: Python 3.8+

## 📊 系统要求

### 最低要求
- Python 3.8+
- 4GB RAM
- 2GB 可用磁盘空间

### 推荐配置
- Python 3.9+
- 8GB+ RAM
- NVIDIA GPU (支持CUDA)
- 5GB+ 可用磁盘空间

## 🔧 故障排除

### 常见问题

1. **模型加载失败**
   - 检查模型文件路径是否正确
   - 确保模型文件完整且未损坏
   - 检查Python环境和依赖包

2. **检测速度慢**
   - 确保使用GPU加速（如果可用）
   - 降低输入图像分辨率
   - 调整检测参数

3. **内存不足**
   - 使用较小的图像文件
   - 关闭其他占用内存的程序
   - 考虑使用更小的模型

### 日志查看

应用运行时的详细日志会显示在终端中，包括：
- 模型加载状态
- 检测过程信息
- 错误和警告信息

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目基于MIT许可证开源。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 创建GitHub Issue
- 发送邮件至项目维护者

---

🍊 **享受智能柑橘检测的便利！**
